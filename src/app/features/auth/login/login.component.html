<div class="login-wrapper">
  <div class="login-card">

    <!-- ── Header ────────────────────────────────────────────────────────── -->
    <header class="login-header">
      <div class="logo" aria-label="HIRED">
        <span class="logo-icon">H</span>
        <span class="logo-text">HIRED</span>
      </div>
      <h1 class="login-title">Bienvenido de nuevo</h1>
      <p class="login-subtitle">Accede para continuar con tus simulaciones técnicas</p>
    </header>

    <!-- ── Error banner ──────────────────────────────────────────────────── -->
    <div *ngIf="errorMessage" class="error-banner" role="alert">
      <span class="error-icon">⚠</span>
      {{ errorMessage }}
    </div>

    <!-- ── Form ──────────────────────────────────────────────────────────── -->
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>

      <!-- Email -->
      <div class="field-group">
        <label for="login-email" class="field-label">Correo electrónico</label>
        <input
          id="login-email"
          type="email"
          formControlName="email"
          class="field-input"
          [class.is-invalid]="email.invalid && email.touched"
          placeholder="tu@ejemplo.com"
          autocomplete="email"
          aria-required="true"
          [attr.aria-describedby]="email.invalid && email.touched ? 'email-error' : null"
        />
        <span
          *ngIf="email.invalid && email.touched"
          id="email-error"
          class="field-error"
          role="alert"
        >
          <ng-container *ngIf="email.errors?.['required']">El correo es obligatorio.</ng-container>
          <ng-container *ngIf="email.errors?.['email']">Introduce un correo válido.</ng-container>
        </span>
      </div>

      <!-- Password -->
      <div class="field-group">
        <label for="login-password" class="field-label">Contraseña</label>
        <input
          id="login-password"
          type="password"
          formControlName="password"
          class="field-input"
          [class.is-invalid]="password.invalid && password.touched"
          placeholder="••••••••"
          autocomplete="current-password"
          aria-required="true"
          [attr.aria-describedby]="password.invalid && password.touched ? 'password-error' : null"
        />
        <span
          *ngIf="password.invalid && password.touched"
          id="password-error"
          class="field-error"
          role="alert"
        >
          <ng-container *ngIf="password.errors?.['required']">La contraseña es obligatoria.</ng-container>
          <ng-container *ngIf="password.errors?.['minlength']">Mínimo 6 caracteres.</ng-container>
        </span>
      </div>

      <!-- Forgot link -->
      <div class="form-utils">
        <a routerLink="/auth/forgot" class="link-muted">¿Olvidaste tu contraseña?</a>
      </div>

      <!-- Submit -->
      <button
        type="submit"
        class="btn-primary"
        [disabled]="loading"
        [attr.aria-busy]="loading"
      >
        <span *ngIf="loading" class="spinner" aria-hidden="true"></span>
        {{ loading ? 'Verificando...' : 'Iniciar sesión' }}
      </button>

    </form>

    <!-- ── Footer ────────────────────────────────────────────────────────── -->
    <footer class="login-footer">
      ¿No tienes cuenta?&nbsp;
      <a routerLink="/auth/register" class="link-accent">Regístrate gratis</a>
    </footer>

  </div>
</div>
